paper.install(window);var playground=function(){var a=this;this.init=function(b){paper.setup(b);var c=a.make_wave()},this.make_wave=function(){var b=new wave;b.creator=a;b.create();return b}},wave=function(){var a=this;this.creator=null;this.paths={};this.path=null;this.total_paths=0;this.tool=new Tool;this.mul=1,this.last_point=0,this.create=function(){var b={friction:.8,timeStep:.01,amount:15,mass:2,count:0};a.tool.minDistance=10;a.tool.onMouseDown=function(b){a.path=new Path;a.path.strokeColor="black";a.last_point=b.event.pageX;a.paths[a.total_paths]=a.path;a.total_paths++};var c=.25,d=0,e=0;paper.view.onFrame=function(b){for(var f=0;f<a.total_paths;f++)try{var g=a.paths[f].segments;for(var h=0,i=g.length;h<i;h++){var j=g[h].point;if(j.positive_x_direction){d=j.x+c;d>=j.original_x+j.y_limit?j.positive_x_direction=!1:j.x=d}else{d=j.x-c;d<=j.original_x-j.x_limit?j.positive_x_direction=!0:j.x=d}if(j.positive_y_direction){e=j.y+c;e>=j.original_y+j.y_limit?j.positive_y_direction=!1:j.y=e}else{e=j.y-c;e<=j.original_y-j.y_limit?j.positive_y_direction=!0:j.y=e}}if(a.paths[f].circle!==undefined){var k=g[g.length-1].point;a.paths[f].circle.position=new Point(k.x,k.y)}}catch(l){}};a.tool.onMouseDrag=function(b){a.path.add(b.event.pageX,b.event.pageY+30*a.mul);var c=a.path.segments[a.path.segments.length-1].point;c.original_x=c.x;c.original_y=c.y;c.y_limit=Math.random()*15;c.x_limit=Math.random()*15;c.positive_y_direction=!0;c.positive_x_direction=!1;a.last_point=b.event.pageX;a.mul==1?a.mul=-1:a.mul=1};var f=0;a.tool.onMouseUp=function(b){var c=a.paths[a.total_paths-1],d=c.segments,e=d[d.length-1].point;e.name="point-"+f;c.circle=new Path.Circle([e.original_x,e.original_y],40);c.circle.original_x=e.original_x;c.circle.original_y=e.original_y;c.circle.strokeColor="black";f++}}};jQuery(document).ready(function(){var a=new playground;a.init("playground")});